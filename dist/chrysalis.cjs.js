"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var createElement=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return null===t&&(t={}),{type:e,props:t,children:r}},render$1=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=n?function(e){return n.appendChild(e)}:function(e){return e};if("string"==typeof t||"number"==typeof t)return r(document.createTextNode(t));if("boolean"==typeof t||null===t)return r(document.createTextNode(""));if("object"==_typeof(t)&&"function"==typeof t.type)return Component.render(t,n);if("object"==_typeof(t)&&"string"==typeof t.type){var o=r(document.createElement(t.type)),a=!0,i=!1,c=void 0;try{for(var p,l=(u=[]).concat.apply(u,_toConsumableArray(t.children))[Symbol.iterator]();!(a=(p=l.next()).done);a=!0){var u;e(p.value,o)}}catch(e){i=!0,c=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw c}}for(var s in t.props)setAttribute(o,s,t.props[s]);return o}},setAttribute$1=function(e,t,n){if("function"==typeof n&&t.startsWith("on")){var r=t.slice(2).toLowerCase();e.__gooactHandlers=e.__gooactHandlers||{},e.removeEventListener(r,e.__gooactHandlers[r]),e.__gooactHandlers[r]=n,e.addEventListener(r,e.__gooactHandlers[r])}"checked"!=t&&"value"!=t&&"className"!=t||(e[t]=n),"style"==t&&"object"==_typeof(n)&&Object.assign(e.style,n),"ref"==t&&"function"==typeof n&&n(e),"key"==t&&(e.__gooactKey=n),"object"!=_typeof(n)&&"function"!=typeof n&&e.setAttribute(t,n)},patch$1=function e(t,n){arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.parentNode;var r=parent?function(e){return parent.replaceChild(e,t)&&e}:function(e){return e};if("object"==_typeof(n)&&"function"==typeof n.type)return Component.patch(t,n,parent);if("object"!=_typeof(n)&&t instanceof Text)return t.textContent!=n?r(render(n,parent)):t;if("object"==_typeof(n)&&t instanceof Text)return r(render(n,parent));if("object"==_typeof(n)&&t.nodeName!=n.type.toUpperCase())return r(render(n,parent));if("object"==_typeof(n)&&t.nodeName==n.type.toUpperCase()){var o,a,i={},c=document.activeElement;(o=[]).concat.apply(o,_toConsumableArray(t.childNodes)).map(function(e,t){var n=e.__gooactKey||"__index_".concat(t);i[n]=e}),(a=[]).concat.apply(a,_toConsumableArray(n.children)).map(function(n,r){var o=n.props&&n.props.key||"__index_".concat(r);t.appendChild(i[o]?e(i[o],n):render(n,t)),delete i[o]});for(var p in i){var l=i[p].__gooactInstance;l&&l.componentWillUnmount(),i[p].remove()}var u=!0,s=!1,f=void 0;try{for(var y,d=t.attributes[Symbol.iterator]();!(u=(y=d.next()).done);u=!0){var h=y.value;t.removeAttribute(h.name)}}catch(e){s=!0,f=e}finally{try{u||null==d.return||d.return()}finally{if(s)throw f}}for(var _ in n.props)setAttribute(t,_,n.props[_]);return c.focus(),t}},Component$1=function(){function e(t){_classCallCheck(this,e),this.props=t||{},this.state=null}return _createClass(e,[{key:"setState",value:function(e){if(this.base&&this.shouldComponentUpdate(this.props,e)){var t=this.state;this.componentWillUpdate(this.props,e),this.state=e,patch(this.base,this.render()),this.componentDidUpdate(this.props,t)}else this.state=e}},{key:"shouldComponentUpdate",value:function(e,t){return e!=this.props||t!=this.state}},{key:"componentWillReceiveProps",value:function(e){}},{key:"componentWillUpdate",value:function(e,t){}},{key:"componentDidUpdate",value:function(e,t){}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}}],[{key:"render",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=Object.assign({},t.props,{children:t.children});if(e.isPrototypeOf(t.type)){var o=new t.type(r);return o.componentWillMount(),o.base=render(o.render(),n),o.base.__gooactInstance=o,o.base.__gooactKey=t.props.key,o.componentDidMount(),o.base}return render(t.type(r),n)})},{key:"patch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.parentNode,o=Object.assign({},n.props,{children:n.children});if(t.__gooactInstance&&t.__gooactInstance.constructor==n.type)return t.__gooactInstance.componentWillReceiveProps(o),t.__gooactInstance.props=o,patch(t,t.__gooactInstance.render(),r);if(e.isPrototypeOf(n.type)){var a=e.render(n,r);return r?r.replaceChild(a,t)&&a:a}return e.isPrototypeOf(n.type)?void 0:patch(t,n.type(o),r)})}]),e}(),Chrysalis={createElement:createElement,render:render$1,setAttribute:setAttribute$1,patch:patch$1,Component:Component$1};module.exports=Chrysalis;
