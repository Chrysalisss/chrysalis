/**
 * Chrysalis v0.9.9-β
 * Casper Søkol, 2018
 * Distributed under the MIT license
 */

function setAttribute(t,e,r){"className"===e?t.setAttribute("class",r):"boolean"==typeof r?setBooleanAttribute(t,e,r):t.setAttribute(e,r)}var _arguments=arguments,h$1=function(t,e){for(var r=[],n=_arguments.length-2;n-- >0;)r[n]=_arguments[n+2];return{nodeName:t,attributes:e||{},children:r}},createVNode=function t(e){if("object"!=typeof e)return document.createTextNode(e);var r=document.createElement(e.nodeName);for(var n in e.attributes)r.setAttribute(n,e.attributes[n]);return e.children.map(t).forEach(r.appendChild.bind(r)),r},render=function(t,e){e.appendChild(createVNode(t))},updateElement=function t(e,r,n,i){if(void 0===i&&(i=0),n)if(r){if(changed(r,n))e.replaceChild(h(r),e.childNodes[i]);else if(r.type){updateAttributes(e.childNodes[i],r.attributes,n.attributes);for(var a=r.children.length,u=n.children.length,d=0;d<a||d<u;d++)t(e.childNodes[i],r.children[d],n.children[d],d)}}else e.removeChild(e.childNodes[i]);else e.appendChild(h(r))},updateAttributes=function(t,e,r){var n=Object.assign({},newAttrs,oldAttrs);Object.keys(n).forEach(function(e){updateAttribute(t,e,newAttrs[e],oldAttrs[e])})},updateAttribute=function(t,e,r,n){r?n&&r===n||setAttribute(t,e,r):removeAttributes(t,e,n)},setBooleanAttribute=function(t,e,r){r?(t.setAttribute(e,r),t[e]=!0):t[e]=!1};export{h$1 as h,render,updateElement};
