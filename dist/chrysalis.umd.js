/**
 * Chrysalis v1.0.4-β
 * Casper Søkol, 2019
 * Distributed under the MIT license
 */

!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.Chrysalis={})}(this,function(e){var n,t,r="className",o="class",i=document,a=null,u={},s="function";function p(e){return"object"!=typeof e}function c(e){if(e&&(e=e.p))return e.key}function l(e,n,t){t.onremove&&t.onremove(),e.removeChild(n),t.ondestroy&&t.ondestroy()}function v(e,n){var t={};for(var r in e)t[r]=e[r];for(var r in n)t[r]=n[r];return t}function d(e){return e.currentTarget.events[e.type](e)}function y(e,n,t,i){for(var f in v(n,t)){var p=n[f],c=t[f];if("key"==(f=i?f==r?o:f:f==o?r:f));else if("style"==f)for(var l in l(p,c))(p||u)[l]==(c||u)[l]||e.style.setProperty("-"==l[0]&&"-"==l[1]?l:l.replace(/[A-Z]/g,"-$&"),p&&l in p?"number"==typeof p[l]?p[l]+"px":p[l]:"");else"o"===f[0]&&"n"===f[1]?((e.events||(e.events={}))[f=f.slice(2).toLowerCase()]=p)?c||e.addEventListener(f,d):e.removeEventListener(f,d):"ref"==f?typeof p==s?p(e):p.current=e:"dangerouslySetInnerHTML"==f?e.innerHTML=p.__html:!i&&"list"!=f&&f in e?e[f]=p==a?"":p:p==a||!1===p?e.removeAttribute(f):e.setAttribute(f,p)}}function h(e,n,t){if(""==e.n&&(e=e.c[0]),p(e))return i.createTextNode(e);if(e.n.render)return e.n.oncreate&&n.push(e.n.oncreate),e.p.c=e.c,function(e,n){e.p=n;var t=e.render(e.state,e.p);!function(e,n){for(var t in n)e[t]=n[t]}(e,{setState:function(n,t){"function"==typeof n&&(n=n(e.state,e.p));var r,o,i=v(e.state,n);e.update&&(r=v(u,e.state),o=v(u,e.p)),e.shouldUpdate?e.shouldUpdate(i,t)&&(e.p=t,e.state=i,e.forceUpdate(r,o)):(e.p=t,e.state=i,e.forceUpdate(r,o))},forceUpdate:function(n,t){g(e.$root,e.$el,e.u,e.u=e.render(e.state,e.p)),e.onupdate&&e.onupdate(n,t)},destroy:function(){f(e.$root,e.$el,e)},u:t,$el:h(t)}),e.$root=e.$el.previousElementSibling}(e.n,e.p),e.n.oninit&&e.n.oninit(),e.n.$el;var r=(t=t||"svg"==e.n)?i.createElementNS("http://www.w3.org/2000/svg",e.n):i.createElement(e.n);y(r,e.p,u,t);for(var o=0,a=e.c.length;o<a;o++)r.appendChild(h(e.c[o],n,t));return r}function g(e,n,t,r,o){var i=[];if(r===t);else if(t!=a&&p(t)&&p(r)&&t!=r)n.data=r;else if(t==a)n=e.insertBefore(h(r,i,o),n);else if(r.n.render){if(function(e,n){for(var t in e)if(e[t]!==n[t])return!0;for(var t in n)if(e[t]!==n[t])return!0}(t.p,r.p)){var f,s=t.n;s.onupdate&&(f=v(s.p,r.p)),s.setState(u,f)}}else if(r.n&&r.n===t.n){o=o||"svg"==r.n,y(n,t.p,r.p,o);for(var d=r.c.length,m=t.c.length,$={},b=[],w={},x=0;x<m;x++){var A=n.childNodes[x];b[x]=A;var C=t.c[x],E=c(C);a!=E&&($[E]=[A,C])}for(var L=0,S=0;S<d;){var U=b[L],N=t.c[L],T=r.c[S],_=c(N);if(w[_])L++;else{var j=c(T),k=$[j]||[];a==j?(a==_&&(g(n,U,N,T,o),S++),L++):(_===j?(g(n,k[0],k[1],T,o),L++):k[0]?(n.insertBefore(k[0],U),g(n,k[0],k[1],T,o)):g(n,U,a,T,o),S++,w[j]=T)}}for(;L<m;){var M=t.c[L],B=c(M);a==B&&l(n,b[L],M),L++}for(var H in $){var P=$[H],I=P[1];w[I.p.key]||l(n,P[0],I)}}else if(r!==t){var O=n;e.replaceChild(n=h(r,i,o),O)}for(;i.length;)i.pop()();return n}e.h=function(e,n){for(var t,r=[],o=[],i=arguments.length;i-- >2;)r.push(arguments[i]);for(;r.length>0;)if(Array.isArray(t=r.pop()))for(var f=t.length;f-- >0;)r.push(t[f]);else!1===t||!0===t||t==a||o.push(t);return n=n||{},typeof e==s?(n.c=o,e(n)):{n:e,p:n,c:o}},e.render=function(e,r,o){n=g(r,n,t,t=e),o&&o()},e.createRef=function(){return{}},Object.defineProperty(e,"__esModule",{value:!0})});
