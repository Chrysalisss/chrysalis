/**
 * Chrysalis v1.0.9-beta
 * Casper SÃ¸kol, 2020
 * Distributed under the MIT license
 */

!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(e.Chrysalis={})}(this,function(e){var r=document,n=null,t={},o="function",i="render",f="string",a="state",u="props",s="parentNode",v="length",c="children",d="childNodes",l=Array.isArray,p="push",y="insertBefore",h="oncreate",m="ondestroy",b="onremove",g="onupdate",x="oninit",$="shouldUpdate",w="forceUpdate";function A(e,r){for(var n in r)e[n]=r[n];return e}function C(e){return"object"!=typeof e}function N(e){if(e&&(e=e[u]))return e.key}function j(e,r,n){n[b]&&n[b](),e.removeChild(r),n[m]&&n[m]()}function E(e,r){var n={};for(var t in e)n[t]=e[t];for(var t in r)n[t]=r[t];return n}var k,L,S=0;function T(e){this.d[e.type](e)}function P(e,r,i,a){for(var u in E(r,i)){var s=r[u],v=i[u];if("key"==u||u==c);else if("style"==u)if(typeof value==f)e[u].cssText=s;else for(var d in typeof v==f&&(v=e[u].cssText=""),A(s,v))(s||t)[d]==(v||t)[d]||e[u].setProperty("-"==d[0]&&"-"==d[1]?d:d.replace(/[A-Z]/g,"-$&"),s&&d in s?"number"==typeof s[d]?s[d]+"px":s[d]:"");else"o"==u[0]&&"n"==u[1]?((e.d||(e.d={}))[u=u.substr(2).toLowerCase()]=s)?v||e.addEventListener(u,T):e.removeEventListener(u,T):"ref"==u?typeof s==o?s(e):s.current=e:!a&&"list"!=u&&u in e?e[u]=s==n?"":s:s==n||!1===s?e.removeAttribute(u):e.setAttribute(u,s)}}function U(e,n,f){function c(e,r,t){for(var o=t,i=r[v];o<i;o++)e.appendChild(U(r[o],n,f))}if(l(e)){var y=U(e[0]);return c(y,e,1),y}if(C(e))return r.createTextNode(e);if(e[i])return e[h]&&n[p](e[h].bind(e)),function(e,r){e[x]&&e[x](e[u]);var n=e[i](e[a],e[u]);return A(e,{setState:function(r,n){typeof r==o&&(r=r(e[a],e[u]));var i,f,s=E(e[a],r);e[g]&&(i=E(t,e[a]),f=E(t,e[u])),e[$]?e[$](s,n)&&(e[u]=n,e[a]=s,e[w](i,f,!0)):(e[a]=s,e[w](i,f,!0))},destroy:function(){j(e.$el[s],e.$el,e)},v:n,$el:U(n,r)}),e[w]=function(r,n,t){_(e.$el[s],e.$el,e.v,e.v=e[i](e[a],e[u])),t&&e[g]&&e[g](r,n)},e.$el}(e,n);var m=(f=f||"svg"==e.n)?r.createElementNS("http://www.w3.org/2000/svg",e.n,{is:e[u].is}):r.createElement(e.n,{is:e[u].is});return P(m,e[u],t,f),c(m,e[d],0),m}function _(e,r,o,i,f){var a=[];if(i===o);else if(o!=n&&C(o)&&C(i)&&o!=i)r.data=i;else if(o==n)r=e[y](U(i,a,f),r);else if(o.id&&o.id==i.id){var s;if(function(e,r){for(var n in e)if(e[n]!==r[n])return!0;for(var n in r)if(e[n]!==r[n])return!0}(o[u],i[u]))o[g]&&(s=E(o[u],i[u])),o.setState(t,s)}else if(i.n&&i.n===o.n){f=f||"svg"==i.n,P(r,o[u],i[u],f);for(var c=i[d][v],l=o[d][v],p={},h=[],m={},b=0;b<l;b++){var x=r[d][b];h[b]=x;var $=o[d][b],w=N($);n!=w&&(p[w]=[x,$])}for(var A=0,k=0;k<c;){var L=h[A],S=o[d][A],T=i[d][k],B=N(S);if(m[B])A++;else{var F=N(T),M=p[F]||[];n==F?(n==B&&(_(r,L,S,T,f),k++),A++):(B===F?(_(r,M[0],M[1],T,f),A++):M[0]?(r[y](M[0],L),_(r,M[0],M[1],T,f)):_(r,L,n,T,f),k++,m[F]=T)}}for(;A<l;){var O=o[d][A],R=N(O);n==R&&j(r,h[A],O),A++}for(var Z in p){var q=p[Z],z=q[1];m[z[u].key]||j(r,q[0],z)}}else if(i!==o){var D=r;e.replaceChild(r=U(i,a,f),D)}for(;a[v];)a.pop()();return r}e.h=function(e,r){for(var t,i=[],f=[],a=arguments,u=a[v];u-- >2;)i[p](a[u]);for(;i[v]>0;)if(l(t=i.pop()))for(var s=t[v];s-- >0;)i[p](t[s]);else!1===t||!0===t||t==n||f[p](t);if(r=r||{},typeof e==o)return f[v]&&(r[c]=f),e(r);if("object"==typeof e){var d=A({},e);return d.props=r,f[v]&&(r[c]=f),d.id=S,S++,d}return{n:e,props:r,childNodes:f}},e.render=function(e,r,n){k=_(r,k,L,L=e),n&&n()},e.createRef=function(){return{}},e.Fragment=function(e){return e.children},Object.defineProperty(e,"__esModule",{value:!0})});
