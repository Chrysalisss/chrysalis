/**
 * Chrysalis v1.0.7-β
 * Casper Søkol, 2019
 * Distributed under the MIT license
 */

var e,r,t=document,n=null,o={},i="function",f="render",a="string",u="state",s="props",v="parentNode",c="length",l="children",p=Array.isArray,d="oncreate",y="ondestroy",h="onremove",m="onupdate",g="oninit",$="shouldUpdate",b="forceUpdate";function w(e){return"object"!=typeof e}function x(e){if(e&&(e=e[s]))return e.key}function A(e,r,t){t[h]&&t[h](),e.removeChild(r),t[y]&&t[y]()}function L(e,r){var t={};for(var n in e)t[n]=e[n];for(var n in r)t[n]=r[n];return t}function T(e,r){for(var t,o=[],f=[],a=arguments,u=a[c];u-- >2;)o.push(a[u]);for(;o[c]>0;)if(p(t=o.pop()))for(var s=t[c];s-- >0;)o.push(t[s]);else!1===t||!0===t||t==n||f.push(t);return r=r||{},typeof e==i?(f[c]&&(r[l]=f),e(r)):{n:e,props:r,t:f}}function C(e){this.events[e.type](e)}function E(e,r,t,f){for(var u in L(r,t)){var s=r[u],v=t[u];if("key"==u||u==l);else if("style"==u)if(typeof value==a)e[u].cssText=s;else for(var c in typeof v==a&&(v=e[u].cssText=""),c(s,v))(s||o)[c]==(v||o)[c]||e[u].setProperty("-"==c[0]&&"-"==c[1]?c:c.replace(/[A-Z]/g,"-$&"),s&&c in s?"number"==typeof s[c]?s[c]+"px":s[c]:"");else"o"==u[0]&&"n"==u[1]?((e.events||(e.events={}))[u=u.substr(2).toLowerCase()]=s)?v||e.addEventListener(u,C):e.removeEventListener(u,C):"ref"==u?typeof s==i?s(e):s.current=e:"dangerouslySetInnerHTML"==u?e.innerHTML=s.__html:!f&&"list"!=u&&u in e?e[u]=s==n?"":s:s==n||!1===s?e.removeAttribute(u):e.setAttribute(u,s)}}function S(e,r,n){function a(e,t,o){for(var i=o,f=t[c];i<f;i++)e.appendChild(S(t[i],r,n))}if(p(e)){var y=S(e[0]);return a(y,e,1),y}if(w(e))return t.createTextNode(e);var h=e.n;if(h[f])return h[d]&&r.push(h[d].bind(h)),h.t[c]&&(h[s][l]=e.t),function(e,r){e[s]=r;var t=e[f](e[u],e[s]);!function(e,r){for(var t in r)e[t]=r[t]}(e,{setState:function(r,t){typeof r==i&&(r=r(e[u],e[s]));var n,f,a=L(e[u],r);e[m]&&(n=L(o,e[u]),f=L(o,e[s])),e[$]?e[$](a,t)&&(e[s]=t,e[u]=a,e[b](n,f,!0)):(e[s]=t,e[u]=a,e[b](n,f,!0))},forceUpdate:function(r,t,n){k(e.$el[v],e.$el,e.u,e.u=e[f](e[u],e[s])),n&&e[m]&&e[m](r,t)},destroy:function(){A(e.$el[v],e.$el,e)},u:t,$el:S(t)})}(h,e[s]),h[g]&&h[g](),h.$el;var x=(n=n||"svg"==h)?t.createElementNS("http://www.w3.org/2000/svg",h):t.createElement(h);return e[s]&&E(x,e[s],o,n),a(x,e.t,0),x}function k(e,r,t,i,a){var u=[];if(i===t);else if(t!=n&&w(t)&&w(i)&&t!=i)r.data=i;else if(t==n)r=e.insertBefore(S(i,u,a),r);else if(i.n[f]){if(function(e,r){for(var t in e)if(e[t]!==r[t])return!0;for(var t in r)if(e[t]!==r[t])return!0}(t[s],i[s])){var v,l=t.n;l[m]&&(v=L(l[s],i[s])),l.setState(o,v)}}else if(i.n&&i.n===t.n){a=a||"svg"==i.n,E(r,t[s],i[s],a);for(var p=i.t[c],d=t.t[c],y={},h=[],g={},$=0;$<d;$++){var b=r.t[$];h[$]=b;var T=t.t[$],C=x(T);n!=C&&(y[C]=[b,T])}for(var N=0,U=0;U<p;){var B=h[N],H=t.t[N],M=i.t[U],_=x(H);if(g[_])N++;else{var j=x(M),I=y[j]||[];n==j?(n==_&&(k(r,B,H,M,a),U++),N++):(_===j?(k(r,I[0],I[1],M,a),N++):I[0]?(r.insertBefore(I[0],B),k(r,I[0],I[1],M,a)):k(r,B,n,M,a),U++,g[j]=M)}}for(;N<d;){var P=t.t[N],Z=x(P);n==Z&&A(r,h[N],P),N++}for(var q in y){var z=y[q],D=z[1];g[D[s].key]||A(r,z[0],D)}}else if(i!==t){var F=r;e.replaceChild(r=S(i,u,a),F)}for(;u[c];)u.pop()();return r}function N(t,n,o){e=k(n,e,r,r=t),o&&o()}function U(){return{}}function B(e){return e.children}export{T as h,N as render,U as createRef,B as Fragment};
