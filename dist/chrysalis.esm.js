/**
 * Chrysalis v1.0.4-β
 * Casper Søkol, 2019
 * Distributed under the MIT license
 */

var e,n,r="className",t="class",o=document,i=null,a={},u="function";function s(e){return"object"!=typeof e}function p(e){if(e&&(e=e.p))return e.key}function c(e,n,r){r.onremove&&r.onremove(),e.removeChild(n),r.ondestroy&&r.ondestroy()}function l(e,n){var r={};for(var t in e)r[t]=e[t];for(var t in n)r[t]=n[t];return r}function v(e,n){for(var r,t=[],o=[],a=arguments.length;a-- >2;)t.push(arguments[a]);for(;t.length>0;)if(Array.isArray(r=t.pop()))for(var f=r.length;f-- >0;)t.push(r[f]);else!1===r||!0===r||r==i||o.push(r);return n=n||{},typeof e==u?(n.c=o,e(n)):{n:e,p:n,c:o}}function d(e){return e.currentTarget.events[e.type](e)}function h(e,n,o,f){for(var s in l(n,o)){var p=n[s],c=o[s];if("key"==(s=f?s==r?t:s:s==t?r:s));else if("style"==s)for(var v in v(p,c))(p||a)[v]==(c||a)[v]||e.style.setProperty("-"==v[0]&&"-"==v[1]?v:v.replace(/[A-Z]/g,"-$&"),p&&v in p?"number"==typeof p[v]?p[v]+"px":p[v]:"");else"o"===s[0]&&"n"===s[1]?((e.events||(e.events={}))[s=s.slice(2).toLowerCase()]=p)?c||e.addEventListener(s,d):e.removeEventListener(s,d):"ref"==s?typeof p==u?p(e):p.current=e:"dangerouslySetInnerHTML"==s?e.innerHTML=p.__html:!f&&"list"!=s&&s in e?e[s]=p==i?"":p:p==i||!1===p?e.removeAttribute(s):e.setAttribute(s,p)}}function y(e,n,r){if(""==e.n&&(e=e.c[0]),s(e))return o.createTextNode(e);if(e.n.render)return e.n.oncreate&&n.push(e.n.oncreate),e.p.c=e.c,function(e,n){e.p=n;var r=e.render(e.state,e.p);!function(e,n){for(var r in n)e[r]=n[r]}(e,{setState:function(n,r){"function"==typeof n&&(n=n(e.state,e.p));var t,o,i=l(e.state,n);e.update&&(t=l(a,e.state),o=l(a,e.p)),e.shouldUpdate?e.shouldUpdate(i,r)&&(e.p=r,e.state=i,e.forceUpdate(t,o)):(e.p=r,e.state=i,e.forceUpdate(t,o))},forceUpdate:function(n,r){g(e.$root,e.$el,e.u,e.u=e.render(e.state,e.p)),e.onupdate&&e.onupdate(n,r)},destroy:function(){f(e.$root,e.$el,e)},u:r,$el:y(r)}),e.$root=e.$el.previousElementSibling}(e.n,e.p),e.n.oninit&&e.n.oninit(),e.n.$el;var t=(r=r||"svg"==e.n)?o.createElementNS("http://www.w3.org/2000/svg",e.n):o.createElement(e.n);h(t,e.p,a,r);for(var i=0,u=e.c.length;i<u;i++)t.appendChild(y(e.c[i],n,r));return t}function g(e,n,r,t,o){var f=[];if(t===r);else if(r!=i&&s(r)&&s(t)&&r!=t)n.data=t;else if(r==i)n=e.insertBefore(y(t,f,o),n);else if(t.n.render){if(function(e,n){for(var r in e)if(e[r]!==n[r])return!0;for(var r in n)if(e[r]!==n[r])return!0}(r.p,t.p)){var u,v=r.n;v.onupdate&&(u=l(v.p,t.p)),v.setState(a,u)}}else if(t.n&&t.n===r.n){o=o||"svg"==t.n,h(n,r.p,t.p,o);for(var d=t.c.length,m=r.c.length,$={},b=[],w={},A=0;A<m;A++){var E=n.childNodes[A];b[A]=E;var L=r.c[A],S=p(L);i!=S&&($[S]=[E,L])}for(var U=0,C=0;C<d;){var N=b[U],T=r.c[U],k=t.c[C],x=p(T);if(w[x])U++;else{var B=p(k),H=$[B]||[];i==B?(i==x&&(g(n,N,T,k,o),C++),U++):(x===B?(g(n,H[0],H[1],k,o),U++):H[0]?(n.insertBefore(H[0],N),g(n,H[0],H[1],k,o)):g(n,N,i,k,o),C++,w[B]=k)}}for(;U<m;){var M=r.c[U],_=p(M);i==_&&c(n,b[U],M),U++}for(var j in $){var I=$[j],P=I[1];w[P.p.key]||c(n,I[0],P)}}else if(t!==r){var Z=n;e.replaceChild(n=y(t,f,o),Z)}for(;f.length;)f.pop()();return n}function m(r,t,o){e=g(t,e,n,n=r),o&&o()}function $(){return{}}export{v as h,m as render,$ as createRef};
